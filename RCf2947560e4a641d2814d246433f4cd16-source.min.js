// For license information, see `https://assets.adobedtm.com/dca8f73c45d4/3a5f7a2d196e/8957292a7191/RCf2947560e4a641d2814d246433f4cd16-source.js`.
_satellite.__registerScript(
  "https://assets.adobedtm.com/dca8f73c45d4/3a5f7a2d196e/8957292a7191/RCf2947560e4a641d2814d246433f4cd16-source.min.js",
  'function getParamsAndFireMbox(e,t){params=_satellite.getVar("pageParamForAllMbox"),e&&(params.pLoaded=t),preHideForTargetedProfile(params),e?(null===document.querySelector("#profileLoaded")&&createDivWithAttributes(),_satellite.getVar("AT:ExecAllProviders")):_satellite.fireExecutePageLoad()}function addKPDLData(){let e=new Promise((function(e){setTimeout((function(){e("KPDL did not resolve in 3000 ms")}),3e3)}));"KPDL"in window&&"undefined"!=typeof KPDL?Promise.race([KPDL.ready,e]).then((function(){try{var e=KPDL.targetData.hasOwnProperty("id")?KPDL.targetData:{id:_satellite.cookie.get("kpcdpid")};_satellite.logger.log("AT:TargetCustomConfig-v2x - ","KPDL Params ---",e),Object.assign(params,e),fireMboxAndAnalytics("target-global-mbox")}catch(e){_satellite.logger.log("AT:TargetCustomConfig-v2x - ","Error while parsing KPDL and adding to Target Mbox Params",e),fireMboxAndAnalytics("target-global-mbox")}})):(_satellite.logger.log("AT:TargetCustomConfig-v2x - KPDL not found"),fireMboxAndAnalytics("target-global-mbox"))}function fireMboxAndAnalytics(e){_satellite.fireExecutePageLoad(e,params),trackInAnalytics(params)}function trackInAnalytics(param){var registeredEventsArr=_satellite.getVar("AT:RegisterAAEvent");registeredEventsArr.forEach((function(ele){var identifier=ele.identifier,segment=ele.segment;_satellite.logger.log("AT:TargetCustomConfig-v2x - ",identifier," and evaluated segment : ",eval(segment)),"newMember"==identifier&&eval(segment)?_satellite.kpCustomEvent(identifier,{newMemberEffectiveDate:param.newMemberEffectiveDate}):eval(segment)&&(_satellite.track(identifier),_satellite.logger.log("AT:TargetCustomConfig-v2x - ",identifier,": sent track"))}))}function runAfterConditionTrue(e,t){var a=window.setInterval((function(){e()&&(t(),clearInterval(a))}),100)}function createDivWithAttributes(){var e=document.createElement("div");e.setAttribute("id","profileLoaded");var t=_satellite.getVar("getUserProfileParam"),a=Object.keys(t);for(i=0;i<a.length;i++){var r=a[i],n=t[r];!0===n&&"Logged In"!==r&&e.setAttribute(r,n),!0!==n&&!1!==n&&"undefined"!==n&&"Logged In"!==r&&e.setAttribute(r,n)}try{addDivToBody(e)}catch(t){runAfterConditionTrue((function(){return"object"==typeof document.getElementsByTagName("BODY")[0]}),(function(){addDivToBody(e)}))}}function addDivToBody(e){var t=document.getElementsByTagName("BODY")[0],a=t.firstChild;t.insertBefore(e,a)}var params={};_satellite.syncDataProvider=function(e,t){_satellite.logger.log("AT:TargetCustomConfig-v2x - ","Response back from DataProvider"),_satellite.logger.log("AT:TargetCustomConfig-v2x - ","DataProvider value - ",t),t&&(Object.assign(params,t),_satellite.logger.log("AT:TargetCustomConfig-v2x - ","After Merging - Mbox Params - ",params)),addKPDLData()};var isSignedOn=_satellite.getVar("isSignedOn");"true"===isSignedOn&&"undefined"!=typeof $kp?APF.on("kpf-structural",(function(){new Promise((function(e){$kp.KPUserProfile.UserProfileClient.load().finally((function(){e()}))})).then((function(){getParamsAndFireMbox(!0,1)})).catch((function(){_satellite.logger.log("AT:TargetCustomConfig-v2x - ","Error in Promise"),getParamsAndFireMbox(!0,0)}))})):(_satellite.logger.log("AT:TargetCustomConfig-v2x - ","Non Signed In"),getParamsAndFireMbox(!1));'
);
