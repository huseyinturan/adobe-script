// For license information, see `https://assets.adobedtm.com/dca8f73c45d4/3a5f7a2d196e/8957292a7191/RC0564e575ae2c4412a0c647097b0b1414-source.js`.
_satellite.__registerScript(
  "https://assets.adobedtm.com/dca8f73c45d4/3a5f7a2d196e/8957292a7191/RC0564e575ae2c4412a0c647097b0b1414-source.min.js",
  'function runAfterElementExists(e,t){var o=window.setInterval((function(){document.querySelector(e)&&(t(),clearInterval(o))}),100)}NodeList.prototype.toArray=function(){return Array.prototype.slice.call(this,[])},document.location.pathname.includes("/register")&&runAfterElementExists("#region",(function(){var e=window.document.querySelector("#region");e&&e.addEventListener("input",(function(e){localStorage.setItem("cvd_sel_reg",e.target.value)}))})),window.setupLocalStorageF5Redirects=function(){if(document.location.pathname.includes("/register")&&document.location.search.includes("cid=covid-nmp-registration-notification")&&localStorage.setItem("cvd_nmp_reg","1"),document.location.pathname.includes("/sign-on")&&"1"===localStorage.getItem("cvd_nmp_reg")){var e=localStorage.getItem("cvd_sel_reg");if(e)if("8: KNW"===e)document.cookie="targetPage=/secure/appointments/schedule; domain=.kaiserpermanente.org; path=/;";else document.cookie="targetPage=/secure/appointments/evisits; domain=.kaiserpermanente.org; path=/;"}},setupLocalStorageF5Redirects();var targetNode=document.querySelector("body"),config={attributes:!0,characterData:!0,childList:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0},callback=function(){if(document.location.pathname.includes("/evisits")){var e=document.querySelector("#datatilesframe"),t=null,o=null;if(e&&"iframe"===e.tagName.toLowerCase()&&e.contentDocument){var r=(t=e.contentDocument).body.innerText.includes("You have been added to the virtual line for the vaccine");o=t.querySelector("#main > div.popupOwner > div.card.helptip.success");(r||o)&&(localStorage.removeItem("cvd_nmp_reg"),localStorage.removeItem("cvd_sel_reg"))}}},observer=new MutationObserver(callback);observer.observe(targetNode,config);'
);
